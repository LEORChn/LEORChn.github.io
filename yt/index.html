<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css"><!--
.hide{visibility:hidden}

--></style>
</head>
<body>
	<div style="text-align:center;margin-top:100px">
		<noscript>您需要开启 JavaScript 才能进行访问，<a target="_blank" href="http://www.baidu.com/s?wd=%E5%90%AF%E7%94%A8js">如何开启？</a></noscript>
		<div class="hide" id="first">请稍候...</div>
		<div class="hide" id="first_ok">请按住 Ctrl 键时按 D 键添加本页面到收藏夹
			<br /><br />以方便您下次安全和快速地访问，
			<br /><br />然后 <a id="jmp" href="">点击此处开始</a>
		</div>
		<div class="hide" id="second">正在为您进行安全跳转... <button onClick="stopjmp(this.parentNode)">停止</button></div>
		<div class="hide" id="fail">这就是我们所知的全部了。</div>
	</div>
<script language="javascript">
	function stopjmp(e){e.className='hide';document.cookie='quiet=0';}
	function fv(e){return document.getElementById(e);}
	function http(method,url,formed,dofun,dofail){var x=new XMLHttpRequest();x.timeout=5000;x.responseType="text";x.open(method.toUpperCase(),url,true);x.onload=dofun;x.ontimeout=x.onerror=dofail?dofail:null;x.send(formed?formed:'');}
	function init(){
		fv(document.cookie.includes('quiet=1')?'second':'first').className='';
		document.title=unescape('%u5B89%u5168%u8DF3%u8F6C%u4E2D');
		setTimeout(start,fv('second').className?0:1000);
	}
	function start(){
		http('get',new Date().getDate()>9?'https://gfw-breaker.github.io/':'NoOneAccess.html','',function(){
			if(this.status==200||this.status==304){
				var u='http://'.concat(/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/.exec(this.responseText)+':8700');
				if(fv('second').className){
					document.title='YouTube';
					fv('first').className='hide';
					fv('first_ok').className='';
					fv('jmp').href=u;
					fv('jmp').onclick=function(){document.cookie='quiet=1';}
				}else location.href=u;
			}
		},function(){
			fv('first').className='hide';
			var f=fv('fail');
			f.className='';
			var errmsg='';
			switch(this.status){
				case 0:case 404: errmsg='跳转服务被提供者停止。<br />大概会在一段时间之后才会出现新的提供者吧。';break;
				default: errmsg='发生了未知错误。';
			}
			f.innerHTML=errmsg+'<br />'+f.innerHTML;
		});
	}
	</script>
</body>
</html>
